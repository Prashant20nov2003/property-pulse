(()=>{var e={};e.id=178,e.ids=[178],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},86624:e=>{"use strict";e.exports=require("querystring")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},42377:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>c,originalPathname:()=>u,pages:()=>p,routeModule:()=>m,tree:()=>d}),r(72633),r(49338),r(22810),r(78107),r(57522);var s=r(30170),i=r(45002),a=r(83876),n=r.n(a),o=r(66299),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,72633)),"D:\\binary\\property-pulse\\app\\profile\\page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,49338)),"D:\\binary\\property-pulse\\app\\layout.jsx"],error:[()=>Promise.resolve().then(r.bind(r,22810)),"D:\\binary\\property-pulse\\app\\error.jsx"],loading:[()=>Promise.resolve().then(r.bind(r,78107)),"D:\\binary\\property-pulse\\app\\loading.jsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,57522)),"D:\\binary\\property-pulse\\app\\not-found.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["D:\\binary\\property-pulse\\app\\profile\\page.jsx"],u="/profile/page",c={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},22912:(e,t,r)=>{let s={"4d8c2f094f086aa825b3becf6213b6907f3fe2db":()=>Promise.resolve().then(r.bind(r,45423)).then(e=>e.default),"7d656f77a71f85c3755865bfd21dd6c0f5727553":()=>Promise.resolve().then(r.bind(r,85670)).then(e=>e.default)};async function i(e,...t){return(await s[e]()).apply(null,t)}e.exports={"4d8c2f094f086aa825b3becf6213b6907f3fe2db":i.bind(null,"4d8c2f094f086aa825b3becf6213b6907f3fe2db"),"7d656f77a71f85c3755865bfd21dd6c0f5727553":i.bind(null,"7d656f77a71f85c3755865bfd21dd6c0f5727553")}},50543:(e,t,r)=>{Promise.resolve().then(r.bind(r,39447)),Promise.resolve().then(r.bind(r,61583)),Promise.resolve().then(r.t.bind(r,15889,23))},61583:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(97247),i=r(28964),a=r(44597),n=r(79906),o=r(50571);r(70689);let l=(0,r(11294).$)("4d8c2f094f086aa825b3becf6213b6907f3fe2db"),d=({properties:e})=>{let[t,r]=(0,i.useState)(e),d=async e=>{if(!window.confirm("Are you sure you want to delete this property?"))return;let s=l.bind(null,e);await s(),o.Am.success("Property Deleted"),r(t.filter(t=>t._id!==e))};return t.map(e=>(0,s.jsxs)("div",{className:"mb-10",children:[s.jsx(n.default,{href:`/properties/${e._id}`,children:s.jsx(a.default,{className:"h-32 w-full rounded-md object-cover",src:e.images[0],alt:"",width:500,height:100,priority:!0})}),(0,s.jsxs)("div",{className:"mt-2",children:[s.jsx("p",{className:"text-lg font-semibold",children:e.name}),(0,s.jsxs)("p",{className:"text-gray-600",children:["Address: ",e.location.street," ",e.location.city," ",e.location.state]})]}),(0,s.jsxs)("div",{className:"mt-2",children:[s.jsx(n.default,{href:`/properties/${e._id}/edit`,className:"bg-blue-500 text-white px-3 py-3 rounded-md mr-2 hover:bg-blue-600",children:"Edit"}),s.jsx("button",{onClick:()=>d(e._id),className:"bg-red-500 text-white px-3 py-2 rounded-md hover:bg-red-600",type:"button",children:"Delete"})]})]},e._id))}},45423:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(28713);r(9640);var i=r(44905),a=r(70570),n=r(45351),o=r(67619),l=r(80166),d=r(83557);async function p(e){let t=await (0,o.getSessionUser)();if(!t||!t.userId)throw Error("User ID is required");let{userId:r}=t;await (0,a.default)();let s=await n.Z.findById(e);if(!s)throw Error("Property Not Found");if(s.owner.toString()!==r)throw Error("Unauthorized");let d=s.images.map(e=>e.split("/").at(-1).split(".").at(0));if(d.length>0)for(let e of d)await i.Z.uploader.destroy("propertypulse/"+e);await s.deleteOne(),(0,l.revalidatePath)("/","layout")}let u=p;(0,d.h)([p]),(0,s.j)("4d8c2f094f086aa825b3becf6213b6907f3fe2db",p)},72633:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(72051),i=r(59624),a=r(61299),n=r(33065),o=r(6454);let l={src:"/_next/static/media/profile.c1d1a307.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAbFBMVEXj6v6au/7g5/7f5/7a5P7Z4/5Glv5Glf7p7v7o7v7j6f5Klv7n7f5DlP5ClP7s8P7l6/7k6/5ClP6txv5cnP7m7P7K2P5DlP4AgP7s8P7r7/7p7v7h6P7E1P7D1P66zv6cu/5QmP5ClP4sj/5M5w1zAAAAGXRSTlMAABAQEBAQEJycnJzS09Pi4uLi+fn+/v7+rE5ALwAAAERJREFUeNoFQIURgCAAfFssulFq/x09YCSUkhGYrlRKuiYcXjon/QEeTa0mcrCgc9aBgXzKWvXuWJ7eWr9nDOspxLkNP52gBILAFHGWAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},d=(0,r(45347).createProxy)(String.raw`D:\binary\property-pulse\components\ProfileProperties.jsx#default`);var p=r(11819);let u=async()=>{await (0,a.Z)();let e=await (0,o.x)(),{userId:t}=e;if(!t)throw Error("User ID is required");let r=(await n.Z.find({owner:t}).lean()).map(p.R);return s.jsx("section",{className:"bg-blue-50",children:s.jsx("div",{className:"container m-auto py-24",children:(0,s.jsxs)("div",{className:"bg-white px-6 py-8 mb-4 shadow-md rounded-md border m-4 md:m-0",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your Profile"}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,s.jsxs)("div",{className:"md:w-1/4 mx-20 mt-10",children:[s.jsx("div",{className:"mb-4",children:s.jsx(i.default,{className:"h-32 w-32 md:h-48 md:w-48 rounded-full mx-auto md:mx-0",src:e.user.image||l,width:200,height:200,alt:"User"})}),(0,s.jsxs)("h2",{className:"text-2xl mb-4",children:[s.jsx("span",{className:"font-bold block",children:"Name: "})," ",e.user.name]}),(0,s.jsxs)("h2",{className:"text-2xl",children:[s.jsx("span",{className:"font-bold block",children:"Email: "})," ",e.user.email]})]}),(0,s.jsxs)("div",{className:"md:w-3/4 md:pl-4",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Listings"}),0===r.length?s.jsx("p",{children:"You have no property listings"}):s.jsx(d,{properties:r})]})]})]})})})}},44905:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(99775);s.v2.config({cloud_name:process.env.CLOUDINARY_CLOUD_NAME,api_key:process.env.CLOUDINARY_API_KEY,api_secret:process.env.CLOUDINARY_API_SECRET});let i=s.v2},61299:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(11185),i=r.n(s);let a=!1,n=async()=>{if(i().set("strictQuery",!0),a){console.log("MongoDB is already connected...");return}try{await i().connect(process.env.MONGODB_URI),a=!0,console.log("MongoDB connected...")}catch(e){console.log(e)}}},45351:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(11185);let i=new s.Schema({owner:{type:s.Schema.Types.ObjectId,ref:"User",required:!0},name:{type:String,required:!0},type:{type:String,required:!0},description:{type:String},location:{street:{type:String},city:{type:String},state:{type:String},zipcode:{type:String}},beds:{type:Number,required:!0},baths:{type:Number,required:!0},square_feet:{type:Number,required:!0},amenities:[{type:String}],rates:{nightly:{type:Number},weekly:{type:Number},monthly:{type:Number}},seller_info:{name:{type:String},email:{type:String},phone:{type:String}},images:[{type:String}],is_featured:{type:Boolean,default:!1}},{timestamps:!0}),a=s.models.Property||(0,s.model)("Property",i)},33065:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(11185);let i=new s.Schema({owner:{type:s.Schema.Types.ObjectId,ref:"User",required:!0},name:{type:String,required:!0},type:{type:String,required:!0},description:{type:String},location:{street:{type:String},city:{type:String},state:{type:String},zipcode:{type:String}},beds:{type:Number,required:!0},baths:{type:Number,required:!0},square_feet:{type:Number,required:!0},amenities:[{type:String}],rates:{nightly:{type:Number},weekly:{type:Number},monthly:{type:Number}},seller_info:{name:{type:String},email:{type:String},phone:{type:String}},images:[{type:String}],is_featured:{type:Boolean,default:!1}},{timestamps:!0}),a=s.models.Property||(0,s.model)("Property",i)},80851:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(11185);let i=new s.Schema({email:{type:String,unique:[!0,"Email already exists"],required:[!0,"Email is required"]},username:{type:String,required:[!0,"Username is required"]},image:{type:String},bookmarks:[{type:s.Schema.Types.ObjectId,ref:"Property"}]},{timestamps:!0}),a=s.models.User||(0,s.model)("User",i)},5412:(e,t,r)=>{"use strict";r.d(t,{L:()=>a});var s=r(61299),i=r(80851);let a={providers:[(0,r(22571).Z)({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET,authorization:{params:{prompt:"consent",access_type:"offline",response_type:"code"}}})],callbacks:{async signIn({profile:e}){if(await (0,s.Z)(),!await i.Z.findOne({email:e.email})){let t=e.name.slice(0,20);await i.Z.create({email:e.email,username:t,image:e.picture})}return!0},async session({session:e}){let t=await i.Z.findOne({email:e.user.email});return e.user.id=t._id.toString(),e}}}},11819:(e,t,r)=>{"use strict";function s(e){for(let t of Object.keys(e))e[t].toJSON&&e[t].toString&&(e[t]=e[t].toString());return e}r.d(t,{R:()=>s})},6454:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var s=r(4128),i=r(5412);let a=async()=>{let e=await (0,s.Z1)(i.L);return e&&e.user?{user:e.user,userId:e.user.id}:null}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[379,361,781,166,775,882],()=>r(42377));module.exports=s})();